{"ast":null,"code":"import _objectSpread from \"/Users/Brent/sei-autumn-sweaters/Projects/Project#2-express-react-api/employee-client-react/project-3-mini-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/Brent/sei-autumn-sweaters/Projects/Project#2-express-react-api/employee-client-react/project-3-mini-react-app/src/EmployeeContainer/index.js\";\nimport React, { Component } from 'react';\nimport CreateEmployee from '../CreateEmployee';\nimport EmployeeList from '../EmployeeList';\nimport EditEmployee from '../EditEmployee';\nimport EmployeeShow from '../EmployeeShow';\n\nclass EmployeeContainer extends Component {\n  constructor() {\n    super();\n\n    this.addEmployee = async (employee, e) => {\n      e.preventDefault(); // console.log(employee, e, 'inside of addEmployee');\n\n      try {\n        const createEmployee = await fetch('http://localhost:9000/api/v1/employee', {\n          method: 'POST',\n          body: JSON.stringify(employee),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        if (createEmployee.status !== 200) {\n          throw Error('404 from server');\n        }\n\n        const createEmployeeResponse = await createEmployee.json(); // console.log(createEmployeeResponse.data, 'createEmployeeResponse');\n\n        this.setState({\n          employees: [...this.state.employees, createEmployeeResponse.data]\n        });\n      } catch (err) {\n        console.log(err, 'addEmployee');\n        return err;\n      }\n    };\n\n    this.getEmployees = async () => {\n      try {\n        const responseGetEmployees = await fetch('http://localhost:9000/api/v1/employee'); // console.log(responseGetEmployees, 'responseGetEmployees')\n\n        if (responseGetEmployees.status !== 200) {\n          throw Error('404 from server');\n        }\n\n        const employeesResponse = await responseGetEmployees.json(); // console.log(employeesResponse, '<-employeesResponse');\n\n        this.setState({\n          employees: [...employeesResponse.data]\n        });\n      } catch (err) {\n        console.log(err, 'getEmployees');\n        return err;\n      }\n    };\n\n    this.handleFormChange = e => {\n      this.setState({\n        employeeToEdit: _objectSpread({}, this.state.employeeToEdit, {\n          [e.target.name]: e.target.value\n        })\n      });\n    };\n\n    this.showModal = employee => {\n      // console.log(employee, 'employee in showModal');\n      this.setState({\n        employeeToEdit: employee,\n        showEditModal: !this.state.showEditModal\n      });\n    };\n\n    this.showEmployee = employee => {\n      console.log(employee, 'employee in showEmployee');\n      this.setState({\n        employeeToShow: employee,\n        showEmployeeModal: !this.state.showEmployeeModal\n      });\n    };\n\n    this.getTweets = async () => {\n      try {\n        const responseGetTweets = await fetch('https://api.twitter.com/1.1/search/tweets.json'); // console.log(responseGetTweets, 'responseGetTweets')\n\n        if (responseGetTweets.status !== 200) {\n          throw Error('404 from server');\n        }\n\n        const tweetsResponse = await responseGetTweets.json(); // console.log(tweetsResponse, '<-tweetsResponse');\n\n        this.setState({\n          tweets: [...tweetsResponse.data]\n        });\n      } catch (err) {\n        console.log(err, 'getTweets');\n        return err;\n      }\n    };\n\n    this.closeAndEdit = async e => {\n      e.preventDefault();\n\n      try {\n        const editRequest = await fetch('http://localhost:9000/api/v1/employee/' + this.state.employeeToEdit._id, {\n          method: 'PUT',\n          body: JSON.stringify(this.state.employeeToEdit),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        if (editRequest.status !== 200) {\n          throw Error('editRequest not working');\n        }\n\n        const editResponse = await editRequest.json();\n        const editedEmployeeArray = this.state.employees.map(employee => {\n          if (employee._id === editResponse.data._id) {\n            employee = editResponse.data;\n          }\n\n          return employee;\n        });\n        this.setState({\n          employees: editedEmployeeArray,\n          showEditModal: false\n        }); // console.log(editResponse, 'editResponse');\n      } catch (err) {\n        console.log(err, 'error closeAndEdit');\n        return err;\n      }\n    };\n\n    this.deleteEmployee = async id => {\n      // console.log(id, 'deleteEmployee id');\n      try {\n        const deleteEmployee = await fetch('http://localhost:9000/api/v1/employee/' + id, {\n          method: 'DELETE'\n        });\n\n        if (deleteEmployee.status !== 200) {\n          throw Error('Something happened on delete');\n        }\n\n        const deleteEmployeeJson = await deleteEmployee.json();\n        this.setState({\n          employees: this.state.employees.filter(employee => employee._id !== id)\n        });\n      } catch (err) {\n        console.log(err);\n        return err;\n      }\n    };\n\n    this.state = {\n      employees: [],\n      showEditModal: false,\n      showEmployeeModal: false,\n      employeeToEdit: {\n        _id: null,\n        name: '',\n        position: '',\n        birthDate: '',\n        department: '',\n        salary: ''\n      },\n      employeeToShow: {\n        _id: null,\n        name: ''\n      },\n      tweets: []\n    };\n  }\n\n  componentDidMount() {\n    this.getEmployees();\n  }\n\n  render() {\n    // console.log(this.state, '<-state in render');\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(CreateEmployee, {\n      addEmployee: this.addEmployee,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(EmployeeList, {\n      employees: this.state.employees,\n      showModal: this.showModal,\n      deleteEmployee: this.deleteEmployee,\n      showEmployee: this.showEmployee,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), this.state.showEditModal ? React.createElement(EditEmployee, {\n      closeAndEdit: this.closeAndEdit,\n      employeeToEdit: this.state.employeeToEdit,\n      handleFormChange: this.handleFormChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }) : null, this.state.showEmployeeModal ? React.createElement(EmployeeShow, {\n      employeeToShow: this.state.employeeToShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default EmployeeContainer;","map":{"version":3,"sources":["/Users/Brent/sei-autumn-sweaters/Projects/Project#2-express-react-api/employee-client-react/project-3-mini-react-app/src/EmployeeContainer/index.js"],"names":["React","Component","CreateEmployee","EmployeeList","EditEmployee","EmployeeShow","EmployeeContainer","constructor","addEmployee","employee","e","preventDefault","createEmployee","fetch","method","body","JSON","stringify","headers","status","Error","createEmployeeResponse","json","setState","employees","state","data","err","console","log","getEmployees","responseGetEmployees","employeesResponse","handleFormChange","employeeToEdit","target","name","value","showModal","showEditModal","showEmployee","employeeToShow","showEmployeeModal","getTweets","responseGetTweets","tweetsResponse","tweets","closeAndEdit","editRequest","_id","editResponse","editedEmployeeArray","map","deleteEmployee","id","deleteEmployeeJson","filter","position","birthDate","department","salary","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport CreateEmployee from '../CreateEmployee';\nimport EmployeeList from '../EmployeeList';\nimport EditEmployee from '../EditEmployee';\nimport EmployeeShow from '../EmployeeShow';\n\nclass EmployeeContainer extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\temployees: [],\n\t\t\tshowEditModal: false,\n\t\t\tshowEmployeeModal: false,\n\t\t\temployeeToEdit: {\n\t\t\t\t_id: null,\n\t\t\t\tname: '',\n\t\t\t\tposition: '',\n\t\t\t\tbirthDate: '',\n\t\t\t\tdepartment: '',\n\t\t\t\tsalary: ''\n\t\t\t},\n\t\t\temployeeToShow: {\n\t\t\t\t_id: null,\n\t\t\t\tname: ''\n\t\t\t}, \n\t\t\ttweets: []\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getEmployees();\n\t}\n\n\taddEmployee = async (employee, e) => {\n\t\te.preventDefault();\n\t\t// console.log(employee, e, 'inside of addEmployee');\n\t\ttry {\n\t\t\tconst createEmployee = await fetch('http://localhost:9000/api/v1/employee', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify(employee),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\tif(createEmployee.status !== 200) {\n\t\t\t\tthrow Error('404 from server')\n\t\t\t}\n\t\t\tconst createEmployeeResponse = await createEmployee.json();\n\t\t\t// console.log(createEmployeeResponse.data, 'createEmployeeResponse');\n\t\t\tthis.setState({\n\t\t\t\temployees:[...this.state.employees, createEmployeeResponse.data]\n\t\t\t})\n\t\t\t\n\t\t} catch(err) {\n\t\t\tconsole.log(err, 'addEmployee');\n\t\t\treturn err\n\t\t}\n\t}\n\n\tgetEmployees = async () => {\n\t\ttry{\n\t\t\tconst responseGetEmployees = await fetch('http://localhost:9000/api/v1/employee')\n\t\t\t// console.log(responseGetEmployees, 'responseGetEmployees')\n\t\t\tif (responseGetEmployees.status !== 200) {\n\t\t\t\tthrow Error('404 from server')\n\t\t\t}\n\t\t\tconst employeesResponse = await responseGetEmployees.json();\n\t\t\t// console.log(employeesResponse, '<-employeesResponse');\n\t\t\tthis.setState({\n\t\t\t\temployees: [...employeesResponse.data]\n\t\t\t});\n\t\t} catch(err) {\n\t\t\tconsole.log(err, 'getEmployees');\n\t\t\treturn err\n\t\t}\n\t}\n\n\t// showEmployee = async () => {\n\t// \ttry{\n\t// \t\tconst responseShowEmployees = await fetch('http://localhost:9000/api/v1/employee')\n\t// \t\tif (responseShowEmployees.status !== 200) {\n\t// \t\t\tthrow Error('404 from server')\n\t// \t\t}\n\t// \t\tconst employeeResponse = await responseShowEmployees.json();\n\t// \t\tconsole.log(employeeResponse, '<-employeeResponse in showEmployee');\n\t// \t\t// this.setState({\n\t// \t\t// \temloyees:\n\t// \t\t// })\n\t// \t} catch(err) {\n\t// \t\tconsole.log(err, 'showEmployee');\n\t// \t\treturn err\n\t// \t}\n\t// }\n\n\thandleFormChange = (e) => {\n\n\t\tthis.setState({\n\t\t\temployeeToEdit: {\n\t\t\t\t...this.state.employeeToEdit,\n\t\t\t\t[e.target.name]: e.target.value\n\t\t\t}\n\t\t})\n\t}\n\n\tshowModal = (employee) => {\n\t\t// console.log(employee, 'employee in showModal');\n\t\tthis.setState({\n\t\t\temployeeToEdit: employee,\n\t\t\tshowEditModal: !this.state.showEditModal\n\t\t})\n\t}\n\n\tshowEmployee = (employee) => {\n\t\tconsole.log(employee, 'employee in showEmployee');\n\t\tthis.setState({\n\t\t\temployeeToShow: employee,\n\t\t\tshowEmployeeModal: !this.state.showEmployeeModal\n\t\t})\n\t}\n\n\tgetTweets = async () => {\n\t\ttry{\n\t\t\tconst responseGetTweets = await fetch('https://api.twitter.com/1.1/search/tweets.json')\n\t\t\t// console.log(responseGetTweets, 'responseGetTweets')\n\t\t\tif (responseGetTweets.status !== 200) {\n\t\t\t\tthrow Error('404 from server')\n\t\t\t}\n\t\t\tconst tweetsResponse = await responseGetTweets.json();\n\t\t\t// console.log(tweetsResponse, '<-tweetsResponse');\n\t\t\tthis.setState({\n\t\t\t\ttweets: [...tweetsResponse.data]\n\t\t\t});\n\t\t} catch(err) {\n\t\t\tconsole.log(err, 'getTweets');\n\t\t\treturn err\n\t\t}\n\t}\n\n\tcloseAndEdit = async (e) => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tconst editRequest = await fetch('http://localhost:9000/api/v1/employee/' + this.state.employeeToEdit._id, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tbody: JSON.stringify(this.state.employeeToEdit),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\tif(editRequest.status !== 200) {\n\t\t\t\tthrow Error('editRequest not working')\n\t\t\t}\n\t\t\tconst editResponse = await editRequest.json();\n\n\t\t\tconst editedEmployeeArray = this.state.employees.map((employee) => {\n\t\t\t\tif(employee._id === editResponse.data._id) {\n\t\t\t\t\temployee = editResponse.data\n\t\t\t\t}\n\t\t\t\treturn employee\n\t\t\t});\n\n\t\t\tthis.setState({\n\t\t\t\temployees: editedEmployeeArray,\n\t\t\t\tshowEditModal: false\n\t\t\t})\n\n\t\t\t// console.log(editResponse, 'editResponse');\n\t\t} catch(err) {\n\t\t\tconsole.log(err, 'error closeAndEdit');\n\t\t\treturn err\n\t\t}\n\t}\n\n\tdeleteEmployee = async (id) => {\n\t\t// console.log(id, 'deleteEmployee id');\n\t\ttry {\n\t\t\tconst deleteEmployee = await fetch('http://localhost:9000/api/v1/employee/' + id, {\n\t\t\t\tmethod: 'DELETE'\n\t\t\t})\n\t\t\tif(deleteEmployee.status !== 200) {\n\t\t\t\tthrow Error('Something happened on delete')\n\t\t\t}\n\t\t\tconst deleteEmployeeJson = await deleteEmployee.json();\n\t\t\tthis.setState({\n\t\t\t\temployees: this.state.employees.filter((employee) => employee._id !== id)\n\t\t\t})\n\t\t} catch(err) {\n\t\t\tconsole.log(err);\n\t\t\treturn err\n\t\t}\n\t}\n\n\trender() {\n\t\t// console.log(this.state, '<-state in render');\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CreateEmployee addEmployee={this.addEmployee} />\n\t\t\t\t<EmployeeList employees={this.state.employees} showModal={this.showModal} deleteEmployee={this.deleteEmployee} showEmployee={this.showEmployee} />\n\t\t\t\t{this.state.showEditModal ? <EditEmployee closeAndEdit={this.closeAndEdit} employeeToEdit={this.state.employeeToEdit} handleFormChange={this.handleFormChange}/> : null}\n\t\t\t\t{this.state.showEmployeeModal ? <EmployeeShow employeeToShow={this.state.employeeToShow} /> : null}\n\t\t\t</div>\n\t\t\t)\n\t}\n}\n\n\nexport default EmployeeContainer;\n"]},"metadata":{},"sourceType":"module"}